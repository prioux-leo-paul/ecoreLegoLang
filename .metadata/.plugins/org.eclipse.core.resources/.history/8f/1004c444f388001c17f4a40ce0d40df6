// automatically generated by Xtext
grammar langageCompilation.concrete.syntax.LegoLang with org.eclipse.xtext.common.Terminals

import "http://www.example.org/langageCompilation" 
import "http://www.eclipse.org/emf/2002/Ecore" as ecore

Program returns Program:
	{Program}
	'Program'
	name=EString
	'{'
		(statement+=Statement)*
	'}';

Statement returns Statement:
	WhileLoop | VariableRef | Substraction | GT | Assignement | Variable | Expression ;

Expression returns Expression:
	VariableRef | Substraction | GT | Assignement | Division | Multiplication | Equal | Addition | LT | Different | GTorEqual | LTorEqual | Decrementation | Incrementation;

Variable returns Variable:
	unInteger | unString | unBoolean;

//ConditionEtat returns ConditionEtat:
	//IF | IFELSE;

EString returns ecore::EString:
	STRING | ID;

IF returns IF:
	'if'
;
WhileLoop returns WhileLoop:
	'while'
		loopCondition=Expression
	'{'
		(statement+=Statement )*
	'}';
	

VariableRef returns VariableRef:
	variable=[Variable|EString]
	;

Substraction returns Substraction:
	   '(' left=Expression '-'
		right=Expression ')'
	;
	
Addition returns Addition:
	   '(' left=Expression '+'
		right=Expression ')'
	;
	
Multiplication returns Multiplication:
	   '(' left=Expression '*'
		right=Expression ')'
	;
	
Division returns Division:
	   '(' left=Expression '/'
		right=Expression ')'
	;

GT returns GT:
	'(' left=Expression '>'
	right=Expression ')';

LT returns LT:
	'(' left=Expression '<'
	right=Expression ')';
	
Equal returns Equal:
	'(' left=Expression '=='
	right=Expression ')';
	
Different returns Different:
	'(' left=Expression '!='
	right=Expression ')';


LTorEqual returns LTorEqual:
	'(' left=Expression '<='
	right=Expression ')';

GTorEqual returns GTorEqual:
	'(' left=Expression '>='
	right=Expression ')';
	
Decrementation returns Decrementation:
	'(' left=Expression '--' ')';

Incrementation returns Incrementation:
	'(' left=Expression '++' ')';

Assignement returns Assignement:
	'('left=Expression
	'=' right=Expression ');' 
	;


EBoolean returns ecore::EBoolean:
	'true' | 'false';

unInteger returns unInteger:
	{unInteger}
	(isConst?='const')?
	'int'
	name=EString
	('=' initialValue=EInt)? ";";

unBoolean returns unBoolean:
	{unBoolean}
	(isConst?='const')?
	'bool'
	name=EString
	('=' initialValue=EBoolean)? ";";
	
unString returns unString:
	{unString}
	(isConst?='const')?
	'string'
	name=EString
	('=' initialeValue=EString)? ";";

EInt returns ecore::EInt:
	'-'? INT;
